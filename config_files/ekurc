# Repository variables
backup_dir="/root/.backups"
identifier="[\e[35m$script_name\e[0m]"
ccdc_team_number=""
prestashop_password=""
palo_alto_password=""


ask_password() {
    while true; do
        info "Enter password for $1:"
        read -s candidate
        info "Confirm password for $1:"
        read -s replica

        if [ "$candidate" == "$replica" ]; then
            local temp_var="$candidate"
            unset candidate replica # Wipe vars
            echo "$temp_var"
            break
        elif [ "$candidate" == "" ] || [ "$replica" == "" ]; then
            error "Password cannot be empty, try again."
        else
            error "Passwords don't match, try again."
        fi
     done
}

# Functions to make output pretty.
info() {
    # Cyan
    echo -e "$identifier[\e[36mINFO\e[0m] $*"
}

debug() {
    # Blue
    echo -e "$identifier[\e[34mDEBUG\e[0m] $*"
}

warn() {
    # Yellow
    echo -e "$identifier[\e[33mWARNING\e[0m] $*"
}

error() {
    # Red
    echo -e "$identifier[\e[31mERROR\e[0m] $*" >&2
}

success() {
    # Green
    echo -e "$identifier[\e[32mSUCCESS\e[0m] $*"
}

#TODO Create a function to restart services
#TODO more documentation
#TODO determine what service manager is on the os and store it
